<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- css -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">


    <title>HTML Editor | Utpal Barman</title>

    <style>
        .u-fullscreen {
            height: 100vh;
            width: 100%;
            overflow-y: scroll;
            border-radius: 8px;
            border: 0px;
            box-shadow: 5px 5px 20px 0px #e8e8e8;

        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">
            HTMLEditor
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
            aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="#">Home </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Disabled</a>
                </li>
            </ul>

        </div>
    </nav>


    <div class="container-fluid">

        <div class="body">

            <div class="row">
                <div class="col-md-6">

                    <code> Input </code>

                    <textarea id="template-msg" class="u-fullscreen p-2 my-2" onclick="updateTextPreview()"
                        oninput="this.onclick();"><pre class="prettyprint"></pre></textarea>

                </div>



                <div class="col-md-6">
                    <code> Output </code>
                    <div class="u-fullscreen p-2 m-2">
                        <span id="preview-msg"></span>
                    </div>
                </div>
            </div>
        </div>

    </div>














    <!-- all script -->
    <script>

        let templates = {
            "request": {
                "sub": "Thanks for your request!",
                "msg": `Your request has been received! Thank you for considering us–-we'll be in touch soon.
    
    Please find a copy of your request below.
    
    If you have any questions regarding this request, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}
                `
            },

            "quotes": {
                "sub": "Quote from {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    Thank you for asking us to quote on your project. Please find a detailed copy of our quote attached to this email.
    
    The quote total is {{QUOTE_TOTAL}} as of {{QUOTE_SENT_DATE}}.
    
    If you have any questions or concerns regarding this quote, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}`
            },

            "approval": {
                "sub": "Thank you for approving quote {{QUOTE_NUMBER}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    We've received your approval of quote {{QUOTE_NUMBER}}. Thank you for choosing us—we'll be in touch soon with next steps.
    
    Please find a signed copy of the approved quote below.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    We appreciate your business.
    
    Sincerely,
    
    {{COMPANY_NAME}}`,
            },


            "job": {
                "sub": "{{JOB_FORM_NAME}} from {{COMPANY_NAME}}",
                "msg": `Hello {{CLIENT_NAME}},
    
    The {{JOB_FORM_NAME}} document related to our appointment is now available. You can save or print a copy to keep for your records.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}`,
            },

            "chem": {
                "sub": "Chemical Treatment by {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    Please find attached a record of your chemical treatment.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}`,
            },

            "invoice": {
                "sub": "Chemical Treatment by {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    Please find attached a record of your chemical treatment.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}`,
            },

            "payment": {
                "sub": "Receipt for {{PAYMENT_OR_DEPOSIT}} from {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    This email has a receipt attached to it for your {{PAYMENT_OR_DEPOSIT}} of {{PAYMENT_AMOUNT}}.
    
    Please keep this email for your reference.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Sincerely,
    
    {{COMPANY_NAME}}`,
            },

            "stat": {
                "sub": "Statement from {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    Please find attached a detailed statement of your payments, invoices, and account balance as of {{CURRENT_DATE}}.
    
    If you have any questions or concerns regarding this statement, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Thanks for your business.`,
            },

            "signed": {
                "sub": "Signed document from {{COMPANY_NAME}} - {{CURRENT_DATE}}",
                "msg": `Hi {{CLIENT_NAME}},
    
    For your records, we have attached a signed document to this email.
    
    If you have any questions or concerns, please don't hesitate to get in touch with us at {{DEFAULT_EMAIL}}.
    
    Thanks for your business.
    
    Sincerely,
    
    {{COMPANY_NAME}}
    `,
            }
        }
        var t;

        function updateTextTemplate(templateName) {

            t = templateName;
            console.log(t);

            //$("#template-sub").val(templates[templateName].sub);
            $("#template-msg").val(templates[templateName].msg);

            updateTextPreview();
        }

        var today = new Date();
        var date = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();


        function updateTextPreview() {

            var msg = $("#template-msg").val();

            $("#preview-msg").html(msg);
        }


        function copyUrl() {
            var copyText = document.getElementById("inputUrlField");


            copyText.select();
            copyText.setSelectionRange(0, 99999);

            document.execCommand("copy");

        }

        document.getElementById("resetButton").addEventListener("click", (function () {
            updateTextTemplate(t);
        }));
        var focusId = "#template-msg";

        function getFocus() {


            jQuery("#template-msg").on('focus', function () {
                focusId = "#template-msg";
            });
        }


        function insertVariableHandler(variableName) {

            getFocus();
            var $txt = jQuery(focusId);
            var caretPos = $txt[0].selectionStart;
            var textAreaTxt = $txt.val();
            var txtToAdd = variableName;
            $txt.val(textAreaTxt.substring(0, caretPos) + txtToAdd + textAreaTxt.substring(caretPos));

            updateTextPreview();
        }



    </script>



    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <!-- end of all script -->
</body>

</html>